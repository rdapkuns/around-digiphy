import{s as A,g as n}from"./supabase-B31qoorF.js";const y=A.channel("room1",{config:{broadcast:{ack:!0}}});y.on("broadcast",{event:"msg"},({payload:e})=>{console.log("received:",e)});y.subscribe(e=>{console.log("channel status:",e),F(),h("connected","x",0)});function h(e,t,i){y.send({type:"broadcast",event:"command",payload:{object:e,direction:t,amount:i}})}const u=.1;function F(){for(let e=1;e<=4;e++){const t=`chair-${e}`,i=document.querySelector(`.chair-${e} span`);if(!t)continue;let o=0;const a=document.getElementById(`chair-slider-${e}`);a.addEventListener("input",l=>{o=parseFloat(l.target.value),i.textContent=Math.trunc(o*100),h(t,"x",o*.7)}),document.getElementById(`minus-${e}`).addEventListener("click",()=>{let l=o-u;a.value=l,a.dispatchEvent(new Event("input"))}),document.getElementById(`plus-${e}`).addEventListener("click",()=>{let l=o+u;a.value=l,a.dispatchEvent(new Event("input"))})}}let $=0,p=1,c=1;const B=document.querySelectorAll(".chair-slider"),C=document.querySelectorAll(".seat-btn");C.forEach(e=>{e.addEventListener("click",()=>{e.dataset.side!==void 0&&($=Number(e.dataset.side),q(),C.forEach(t=>{t.classList.remove("side-active")}),e.classList.add("side-active")),e.dataset.forth!==void 0&&(p=Number(e.dataset.forth),q())})});function q(){c=$+p,console.log("activeseat: ",c),document.querySelectorAll(".controls-chairs").forEach(a=>{a.classList.add("visually-hidden")}),document.querySelector(`.chair-${c}`).classList.remove("visually-hidden");const i=document.querySelector(".seat-back img"),o=document.querySelector(".seat-front img");p===1?(o.src="./img/seat-front-on.png",i.src="./img/seat-back-off.png"):(o.src="./img/seat-front-off.png",i.src="./img/seat-back-on.png"),B.forEach(a=>{a.id===`chair-slider-${c}`&&a.dispatchEvent(new Event("input"))})}const s=document.getElementById("dashboard-slider");let r=0;s.addEventListener("input",e=>{const t=document.querySelector(".dashboard-group span");r=parseFloat(e.target.value),t.textContent=Math.trunc(r*100),h("dashboard","y",r*1)});const M=document.getElementById("minus-5");M.addEventListener("click",()=>{let e=r-u;s.value=e,s.dispatchEvent(new Event("input"))});const x=document.getElementById("plus-5");x.addEventListener("click",()=>{let e=r+u;s.value=e,s.dispatchEvent(new Event("input"))});F();const v=document.querySelector(".nav-seats"),f=document.querySelectorAll(".seat-group"),m=document.querySelector(".nav-dashboard"),E=document.querySelectorAll(".dashboard-group"),P=document.querySelectorAll(".nav-locked"),L=document.querySelectorAll(".feature-unavailable"),S=document.querySelector(".seat-sides-container"),g=document.querySelector(".seat-forth-container");v.addEventListener("click",()=>{B.forEach(e=>{e.id===`chair-slider-${c}`&&e.dispatchEvent(new Event("input"))}),E.forEach(e=>{n.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.add("visually-hidden")})}),L.forEach(e=>{n.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.add("visually-hidden")})}),f.forEach(e=>{n.to(e,{opacity:1,duration:.25,onComplete:()=>{e.classList.contains(`chair-${c}`)&&e.classList.remove("visually-hidden")}})}),[S,g].forEach(e=>{n.to(e,{opacity:1,duration:.25,onComplete:()=>e.classList.remove("visually-hidden")})}),v.classList.add("button-active"),m.classList.remove("button-active")});m.addEventListener("click",()=>{f.forEach(e=>{n.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.add("visually-hidden")})}),[S,g].forEach(e=>{n.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.add("visually-hidden")})}),E.forEach(e=>{n.to(e,{opacity:1,duration:.25,onComplete:()=>e.classList.remove("visually-hidden")})}),L.forEach(e=>{n.to(e,{opacity:0,duration:.2,onComplete:()=>e.classList.add("visually-hidden")})}),s.dispatchEvent(new Event("input")),v.classList.remove("button-active"),m.classList.add("button-active")});P.forEach(e=>{e.addEventListener("click",()=>{f.forEach(t=>{n.to(t,{opacity:0,duration:.2,onComplete:()=>t.classList.add("visually-hidden")})}),[S,g].forEach(t=>{n.to(t,{opacity:0,duration:.2,onComplete:()=>t.classList.add("visually-hidden")})}),E.forEach(t=>{n.to(t,{opacity:0,duration:.2,onComplete:()=>t.classList.add("visually-hidden")})}),L.forEach(t=>{n.to(t,{opacity:1,duration:.25,onComplete:()=>t.classList.remove("visually-hidden")})}),s.dispatchEvent(new Event("input")),v.classList.remove("button-active"),m.classList.remove("button-active")})});const I=document.querySelector(".mobile-start"),V=document.querySelector(".mobile-start button"),k=document.getElementById("rotate-warning");function R(){return screen.orientation&&screen.orientation.type?screen.orientation.type.startsWith("portrait"):window.orientation!==void 0?Math.abs(window.orientation)!==90:window.innerHeight>window.innerWidth}function b(){R()?k.style.display="flex":k.style.display="none"}function d(){document.querySelector(".controls-container").classList.remove("visually-hidden"),I.classList.add("visually-hidden")}function D(){document.querySelector(".controls-container").classList.add("visually-hidden"),I.classList.remove("visually-hidden")}window.addEventListener("orientationchange",b);window.addEventListener("resize",b);b();function w(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement?d():D()}V.addEventListener("click",async()=>{const e=document.documentElement;try{e.requestFullscreen?(await e.requestFullscreen(),d()):e.webkitRequestFullscreen?(await e.webkitRequestFullscreen(),d()):e.msRequestFullscreen?(await e.msRequestFullscreen(),d()):alert("Fullscreen API not supported."),h("start","y",1)}catch(t){alert("Fullscreen request failed:",t)}});document.addEventListener("fullscreenchange",w);document.addEventListener("webkitfullscreenchange",w);document.addEventListener("msfullscreenchange",w);
